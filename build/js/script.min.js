$(function(){var a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$/;$("#mail").change(function(o){var n=$("#mail").val(),t=$("#message");a.test(n)?($("#mail").css("backgroundColor","white"),t.text("")):($("#mail").css("backgroundColor","#ff5e42"),t.text("email введен неверно"))})}),$(function(){$(window).scroll(function(){0!=$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})}),$(function(){var a=$("#sort");a.on("click",function(o){o.preventDefault();var n=[];$(".occupancy").each(function(){var a=$(this).data("done");n.push([$(this).parents(".card").attr("id"),a])});for(var t=0;t<n.length;t++)for(var s=0;s<n.length-t-1;s++)if(n[s][1]>n[s+1][1]){var c=n[s];n[s]=n[s+1],n[s+1]=c}var e=function(a){$.each(a,function(a,o){$("#"+o[0]).detach().appendTo("#cards")})};a.hasClass("up")?(e(n.reverse()),a.removeClass("up").addClass("down")):(e(n),a.hasClass("down")?a.removeClass("down").addClass("up"):a.addClass("down")),console.log(n)})});